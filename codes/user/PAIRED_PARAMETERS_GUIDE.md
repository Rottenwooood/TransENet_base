# ğŸ”§ æˆå¯¹å‚æ•°é…ç½®æŒ‡å—

## é—®é¢˜è¯´æ˜

åœ¨æ‰¹é‡è®­ç»ƒä¸­ï¼Œ`symunet_pretrain_enc_blk_nums` å’Œ `symunet_pretrain_dec_blk_nums` æ˜¯**æˆå¯¹å‚æ•°**ï¼Œä¸æ˜¯ç‹¬ç«‹ç»„åˆã€‚å®ƒä»¬å¿…é¡»ï¼š

1. **æ•°é‡ç›¸ç­‰** - ä¸¤ä¸ªå‚æ•°åˆ—è¡¨é•¿åº¦ç›¸åŒ
2. **ä¸€ä¸€å¯¹åº”** - ç¬¬ä¸€ä¸ªç¼–ç å™¨é…ç½®å¯¹åº”ç¬¬ä¸€ä¸ªè§£ç å™¨é…ç½®
3. **æ·±åº¦åŒ¹é…** - æ¯ä¸ªç¼–ç å™¨å’Œè§£ç å™¨é…ç½®æœ‰ç›¸åŒçš„å±‚æ•°
4. **åˆç†é…å¯¹** - å»ºè®®ä½¿ç”¨å¯¹ç§°é…ç½®ï¼ˆè§£ç å™¨æ˜¯ç¼–ç å™¨çš„åå‘ï¼‰

## âŒ é”™è¯¯ç¤ºä¾‹

### é”™è¯¯1ï¼šæ•°é‡ä¸åŒ¹é…
```json
{
  "symunet_pretrain_enc_blk_nums": ["2,2,2", "4,6,6"],      // 2ä¸ªå€¼
  "symunet_pretrain_dec_blk_nums": ["2,2,2"]                // 1ä¸ªå€¼
}
```
**é”™è¯¯**: ç¼–ç å™¨æœ‰2ä¸ªå€¼ï¼Œè§£ç å™¨åªæœ‰1ä¸ªå€¼

### é”™è¯¯2ï¼šæ·±åº¦ä¸åŒ¹é…
```json
{
  "symunet_pretrain_enc_blk_nums": ["4,6"],                  // 2å±‚
  "symunet_pretrain_dec_blk_nums": ["2,2,2"]                // 3å±‚
}
```
**é”™è¯¯**: ç¼–ç å™¨2å±‚ï¼Œè§£ç å™¨3å±‚

### é”™è¯¯3ï¼šéšæœºç»„åˆ
```json
{
  "symunet_pretrain_enc_blk_nums": ["2,2,2", "4,4,4", "4,6,6"],      // 3ä¸ªå€¼
  "symunet_pretrain_dec_blk_nums": ["6,6,4", "2,2,2", "4,4,4"]       // 3ä¸ªå€¼ï¼Œä½†éšæœºæ’åˆ—
}
```
**é”™è¯¯**: è™½ç„¶æ•°é‡ç›¸åŒï¼Œä½†ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„åˆç†é…å¯¹

## âœ… æ­£ç¡®ç¤ºä¾‹

### æ­£ç¡®é…ç½®1ï¼šåŸºç¡€å¯¹ç§°
```json
{
  "symunet_pretrain_enc_blk_nums": ["2,2,2", "4,4,4"],
  "symunet_pretrain_dec_blk_nums": ["2,2,2", "4,4,4"]
}
```
**è§£é‡Š**: ç¼–ç å™¨å’Œè§£ç å™¨å®Œå…¨å¯¹ç§°

### æ­£ç¡®é…ç½®2ï¼šæ·±åº¦é€’å¢
```json
{
  "symunet_pretrain_enc_blk_nums": ["2,2,2", "4,6,6"],
  "symunet_pretrain_dec_blk_nums": ["2,2,2", "6,6,4"]
}
```
**è§£é‡Š**: ç¼–ç å™¨é€’å¢ï¼Œè§£ç å™¨åå‘é€’å‡ï¼ˆæ¨èé…ç½®ï¼‰

### æ­£ç¡®é…ç½®3ï¼šå®Œæ•´å®éªŒ
```json
{
  "symunet_pretrain_enc_blk_nums": [
    "2,2,2",
    "4,4,4",
    "4,6,6"
  ],
  "symunet_pretrain_dec_blk_nums": [
    "2,2,2",
    "4,4,4",
    "6,6,4"
  ]
}
```
**è§£é‡Š**: 3å¯¹é…ç½®ï¼Œä»æµ…åˆ°æ·±ï¼Œé€‚åˆå…¨é¢å®éªŒ

## ğŸ” è‡ªåŠ¨éªŒè¯å’Œè­¦å‘Š

ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æŸ¥ä»¥ä¸‹é—®é¢˜ï¼š

1. **æ•°é‡éªŒè¯**: ç¡®ä¿ä¸¤ä¸ªå‚æ•°åˆ—è¡¨é•¿åº¦ç›¸ç­‰
2. **æ·±åº¦éªŒè¯**: ç¡®ä¿æ¯å¯¹é…ç½®çš„å±‚æ•°ç›¸åŒ
3. **åˆç†æ€§æ£€æŸ¥**: æç¤ºéå¯¹ç§°é…å¯¹ï¼Œä½†å…è®¸æ‰§è¡Œ

### éªŒè¯è¾“å‡ºç¤ºä¾‹
```
âœ… æˆå¯¹å‚æ•°éªŒè¯é€šè¿‡
   ç¬¬1å¯¹: ç¼–ç å™¨ 2,2,2 -> è§£ç å™¨ 2,2,2 âœ“ (å¯¹ç§°)
   ç¬¬2å¯¹: ç¼–ç å™¨ 4,4,4 -> è§£ç å™¨ 4,4,4 âœ“ (å¯¹ç§°)
   ç¬¬3å¯¹: ç¼–ç å™¨ 4,6,6 -> è§£ç å™¨ 6,6,4 âœ“ (åå‘å¯¹ç§°)

âš ï¸ è­¦å‘Š: ç¬¬2å¯¹é…ç½®å¯èƒ½ä¸æ˜¯æœ€ä½³é…å¯¹:
   ç¼–ç å™¨: 4,4,4 -> è§£ç å™¨: 2,2,2
   å»ºè®®ä½¿ç”¨å¯¹ç§°é…ç½®ï¼Œå¦‚:
   ç¼–ç å™¨: 4,4,4 -> è§£ç å™¨: 4,4,4
   ç»§ç»­ä½¿ç”¨å½“å‰é…ç½®...
```

## ğŸ“Š ç”Ÿæˆçš„å®éªŒ

ä½¿ç”¨æ­£ç¡®çš„æˆå¯¹å‚æ•°é…ç½®ï¼Œç³»ç»Ÿä¼šç”Ÿæˆä»¥ä¸‹å®éªŒï¼š

```json
[
  {
    "id": 1,
    "name": "symunet_batch_pair01_enc2-2-2_dec2-2-2_lr1e-4_optADAMW",
    "config": {
      "symunet_pretrain_enc_blk_nums": "2,2,2",
      "symunet_pretrain_dec_blk_nums": "2,2,2",
      "lr": 1e-4,
      "optimizer": "ADAMW",
      ...
    }
  },
  {
    "id": 2,
    "name": "symunet_batch_pair02_enc4-6-6_dec6-6-4_lr1e-4_optADAMW",
    "config": {
      "symunet_pretrain_enc_blk_nums": "4,6,6",
      "symunet_pretrain_dec_blk_nums": "6,6,4",
      "lr": 1e-4,
      "optimizer": "ADAMW",
      ...
    }
  }
]
```

## ğŸ§ª å®é™…ä½¿ç”¨

### 1. åˆ›å»ºé…ç½®æ–‡ä»¶
```bash
python batch_train.py --create-config
```

### 2. ç¼–è¾‘é…ç½®æ–‡ä»¶
ç¡®ä¿ `symunet_pretrain_enc_blk_nums` å’Œ `symunet_pretrain_dec_blk_nums` æˆå¯¹é…ç½®ï¼š

```bash
vim experiments_config.json
```

### 3. éªŒè¯é…ç½®
```bash
python batch_train.py --config experiments_config.json --list
```

### 4. æ‰§è¡Œå®éªŒ
```bash
python batch_train.py --config experiments_config.json
```

## ğŸ¯ æ¨èé…ç½®

### å¿«é€Ÿå®éªŒï¼ˆ6ä¸ªå®éªŒï¼‰
```json
{
  "symunet_pretrain_enc_blk_nums": ["2,2,2", "4,4,4"],
  "symunet_pretrain_dec_blk_nums": ["2,2,2", "4,4,4"]
}
```

### å…¨é¢å®éªŒï¼ˆ9ä¸ªå®éªŒï¼‰
```json
{
  "symunet_pretrain_enc_blk_nums": ["2,2,2", "4,4,4", "4,6,6"],
  "symunet_pretrain_dec_blk_nums": ["2,2,2", "4,4,4", "6,6,4"]
}
```

### æ·±åº¦å®éªŒï¼ˆ12ä¸ªå®éªŒï¼‰
```json
{
  "symunet_pretrain_enc_blk_nums": ["2,2,2", "4,4,4", "4,6,6", "6,8,8"],
  "symunet_pretrain_dec_blk_nums": ["2,2,2", "4,4,4", "6,6,4", "8,8,6"]
}
```

## ğŸ”§ ä¿®æ­£åçš„åŠŸèƒ½

### 1. æˆå¯¹å‚æ•°å¤„ç†
- è‡ªåŠ¨æ£€æµ‹ç¼–ç å™¨/è§£ç å™¨å‚æ•°
- éªŒè¯æ•°é‡å’Œæ·±åº¦åŒ¹é…
- ç”Ÿæˆåˆç†çš„å®éªŒé…ç½®

### 2. å®éªŒå‘½å
- åŒ…å«ç¼–ç å™¨-è§£ç å™¨é…å¯¹ä¿¡æ¯
- ä¾‹å¦‚: `pair01_enc4-6-6_dec6-6-4`

### 3. é”™è¯¯å¤„ç†
- è¯¦ç»†é”™è¯¯ä¿¡æ¯å’Œå»ºè®®
- å‹å¥½çš„è­¦å‘Šæç¤º
- è‡ªåŠ¨ç»§ç»­åˆç†é…ç½®

### 4. å‘åå…¼å®¹
- ä»æ”¯æŒéæˆå¯¹å‚æ•°
- çµæ´»çš„å‚æ•°éªŒè¯

---

**æ€»ç»“**: ç°åœ¨æ‰¹é‡è®­ç»ƒç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®å¤„ç†æˆå¯¹å‚æ•°ï¼Œç¡®ä¿ç¼–ç å™¨å’Œè§£ç å™¨é…ç½®çš„åˆç†æ€§å’Œä¸€è‡´æ€§ã€‚